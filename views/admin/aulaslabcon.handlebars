{{>_navlabcon}}

<h2>Horários de Aula</h2>
<hr>
<a href="/admin/aulaslabcon/add"><button class="btn btn-dark"><i class="icon-plus"></i> Nova Aula</button></a>

<div class="row">

{{#each aulaslabcon}}
<div class="col-sm-3">

<div class="card mt-4">
    <div class="card-body">
        <small>Horário: {{horario.descricao}}</small><br>
        <small>Dia: {{format_dia_semana dia_semana}}</small><br>
        <a href="/admin/aulaslabcon/edit/{{_id}}"><button class="btn btn-outline-dark mt-2"><i class="icon-fixed-width icon-pencil"></i>Editar</button></a>
        <a href="/admin/aulaslabcon/deletar/{{_id}}"><button class="btn btn-outline-dark mt-2"><i class="icon-fixed-width icon-ban-circle"></i>Deletar</button></a>
    </div>
</div>
</div>
{{else}}
<h4>Nenhuma aula cadastrada</h4>
{{/each}}

</div>

<!-- Button trigger modal 
<button class="btn " id="btn-mensagem">Exibir modal via JavaScript</button>
-->
<script>
$('#btn-mensagem').click(function(){

    var modal = $('#exampleModal');
    
    $.getJSON('/admin/aulaslabcon/add', function(horarios) {
      
      //var mysource = $('#sltemplate').html();
      //var mytemplate = Handlebars.compile(mysource);
      //var myresult = mytemplate(horarios);
      //console.log(myresult).
      //$('#sl').html(myresult);
      
      //modal.find('form').attr('action','/admin/aulaslabcon/add');
      //modal.html(horarios)
      //modal.html(horarios);
      //modal.find('[name=comentario]').val(horarios[0].descricao);
      modal.find('[name=horario]').val(horarios);
      $("#dados").html(horarios);
      
    });
    modal.modal('show');
    

    /*
    $.ajax({
      type: 'POST',
      url: '/user',
      dataType: 'jsonp',
      data: data,
      sucess: function(data,textStatus){
        if(textStatus.statusCode = 200){
          console.log("Sucesso");
        } else {
          console.log("Falha");
        }
      }
    });
    */

  });
</script>